

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Tutorials &mdash; Stupeflix API 1.0 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Stupeflix API 1.0 documentation" href="index.html" /> 
    <link rel="stylesheet" href="http://static.stupeflix.com/play/1.2/style-min.css" type="text/css" charset="utf-8"/>

  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li><a href="index.html">Stupeflix API 1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="tutorials">
<h1>Tutorials<a class="headerlink" href="#tutorials" title="Permalink to this headline">¶</a></h1>
<div class="section" id="stupeflix-api">
<h2>Stupeflix API<a class="headerlink" href="#stupeflix-api" title="Permalink to this headline">¶</a></h2>
<div class="section" id="automatically-send-videos">
<h3>Automatically send videos<a class="headerlink" href="#automatically-send-videos" title="Permalink to this headline">¶</a></h3>
<p>To Youtube, Facebook, Dailymotion, Amazon S3, my own server ...</p>
<p>Using the Stupeflix API, you can choose the kind of video you want to generate, through a XML file which is send by POST by the createProfiles function. But in the same call, you can choose too to upload the video to several targets : Amazon S3 bucket, http server, and even YouTube, Facebook or Dailymotion. Here are some examples given for PhP. Other languages are supported too, as clients are only a wrappers to generate a XML settings file. The XML Schema can be found here: <a class="reference external" href="http://code.stupeflix.com/createprofile.xsd">http://code.stupeflix.com/createprofile.xsd</a> . To have these examples running, you will need the Stupeflix SDK.</p>
<div class="section" id="generic-code">
<h4>Generic code<a class="headerlink" href="#generic-code" title="Permalink to this headline">¶</a></h4>
<p>Here is a skeleton for video creation / upload. The video definition you want to send should be in the &#8220;test.xml&#8221; file:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>
  <span class="nb">define</span><span class="p">(</span><span class="s1">&#39;stupeflixAccessKey&#39;</span><span class="p">,</span> <span class="s1">&#39;PUT-YOUR-ACCESS-KEY-HERE&#39;</span><span class="p">);</span>
  <span class="nb">define</span><span class="p">(</span><span class="s1">&#39;stupeflixSecretKey&#39;</span><span class="p">,</span> <span class="s1">&#39;PUT-YOUR-SECRET-KEY-HERE&#39;</span><span class="p">);</span>

  <span class="c1">// Create the client</span>
  <span class="nv">$stupeflix</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Stupeflix</span><span class="p">(</span><span class="nx">stupeflixAccessKey</span><span class="p">,</span> <span class="nx">stupeflixSecretKey</span><span class="p">);</span>

  <span class="c1">// If you plan to offer the service to your own users,</span>
  <span class="c1">// you can set the user variable to your user id.</span>
  <span class="c1">// Otherwise, you can always keep the same name</span>
  <span class="nv">$user</span> <span class="o">=</span> <span class="s2">&quot;user112&quot;</span><span class="p">;</span>

  <span class="c1">// Each of your users can have different projects.</span>
  <span class="c1">// Each resource id should be unique to each project, as video file will be overwritten at each video generation</span>
  <span class="nv">$resource</span> <span class="o">=</span> <span class="s2">&quot;resource2034&quot;</span><span class="p">;</span>

  <span class="nv">$metaDict</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s2">&quot;title&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;Upload test &quot;</span><span class="p">,</span>
                    <span class="s2">&quot;description&quot;</span><span class="o">=&gt;</span><span class="s2">&quot;This is an upload test&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;thumbnailTime&quot;</span><span class="o">=&gt;</span><span class="s2">&quot;2&quot;</span><span class="p">,</span>  <span class="c1">// useful to choose the thumbnail time</span>
                    <span class="s2">&quot;tags&quot;</span><span class="o">=&gt;</span><span class="s2">&quot;upload test&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;channels&quot;</span><span class="o">=&gt;</span><span class="s2">&quot;Tech&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;acl&quot;</span><span class="o">=&gt;</span><span class="s2">&quot;public&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;location&quot;</span><span class="o">=&gt;</span><span class="s2">&quot;48.8583,2.2945&quot;</span><span class="p">);</span> <span class="c1">// A famous tower position</span>

  <span class="nv">$meta</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">StupeflixMeta</span><span class="p">(</span><span class="nv">$metaDict</span><span class="p">);</span>

  <span class="nv">$upload</span> <span class="o">=</span> <span class="c1">#################### HERE IS THE UPLOAD SETUP CODE</span>

  <span class="nv">$profile</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">StupeflixProfile</span><span class="p">(</span><span class="s2">&quot;iphone&quot;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="nv">$upload</span><span class="p">),</span> <span class="nv">$meta</span><span class="p">);</span>

  <span class="nv">$profiles</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">StupeflixProfileSet</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="nv">$profile</span><span class="p">),</span> <span class="k">null</span><span class="p">,</span> <span class="k">null</span><span class="p">);</span>
  <span class="nv">$stupeflix</span><span class="o">-&gt;</span><span class="na">sendDefinition</span><span class="p">(</span><span class="nv">$user</span><span class="p">,</span> <span class="nv">$resource</span><span class="p">,</span> <span class="s2">&quot;test.xml&quot;</span><span class="p">);</span>
  <span class="nv">$stupeflix</span><span class="o">-&gt;</span><span class="na">createProfiles</span><span class="p">(</span><span class="nv">$user</span><span class="p">,</span> <span class="nv">$resource</span><span class="p">,</span> <span class="nv">$profiles</span><span class="p">);</span>
<span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</div>
<p>For the following upload code bits, you should replace the $upload = ... line by the provided code. This example show you how to upload to a single target, but you can define several upload objects at once this way:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>
  <span class="nv">$upload0</span> <span class="o">=</span> <span class="c1">#################### HERE IS THE UPLOAD SETUP CODE</span>
  <span class="nv">$upload1</span> <span class="o">=</span> <span class="c1">#################### HERE IS THE UPLOAD SETUP CODE</span>
  <span class="nv">$upload2</span> <span class="o">=</span> <span class="c1">#################### HERE IS THE UPLOAD SETUP CODE</span>

  <span class="nv">$profile</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">StupeflixProfile</span><span class="p">(</span><span class="s2">&quot;iphone&quot;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="nv">$upload0</span><span class="p">,</span> <span class="nv">$upload1</span><span class="p">,</span> <span class="nv">$upload2</span><span class="p">),</span> <span class="nv">$meta</span><span class="p">);</span>
<span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</div>
</div>
<div class="section" id="stupeflix-default-upload">
<h4>Stupeflix Default Upload<a class="headerlink" href="#stupeflix-default-upload" title="Permalink to this headline">¶</a></h4>
<p>The code is simply:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>
  <span class="nv">$upload</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">StupeflixDefaultUpload</span><span class="p">();</span>
<span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</div>
<p>The video will be stored temporarily on Stupeflix storage. You have to use this upload type if you want to be able to retrieve the video through a getProfile API call. <strong>This upload is required if you want to use the getProfileUrl/getProfile functions in the stupeflix clients. If you don&#8217;t add it, the url returned with getProfileUrl will give you a 404 as the file does not exist at this place.</strong></p>
</div>
<div class="section" id="youtube-upload">
<h4>Youtube Upload<a class="headerlink" href="#youtube-upload" title="Permalink to this headline">¶</a></h4>
<p>The first way to use the youtube upload is simply to use the login / password of an account:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>
  <span class="nv">$upload</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">StupeflixYoutubeUpload</span><span class="p">(</span><span class="s1">&#39;MY_YOUTUBE_LOGIN&#39;</span><span class="p">,</span> <span class="s1">&#39;MY_YOUTUBE_PASSWORD&#39;</span><span class="p">,</span> <span class="nv">$meta</span><span class="p">);</span>
<span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</div>
<p>This is of course not always possible: - if you don&#8217;t want us to know your Youtube credentials - if you want to use your own users credentials and they don&#8217;t want YOU to have them The Youtube API allows you to create / get a one time or session token. ( <a class="reference external" href="http://code.google.com/apis/youtube/2.0/developers_guide_protocol.html#AuthSub_Authentication">http://code.google.com/apis/youtube/2.0/developers_guide_protocol.html#AuthSub_Authentication</a> ) So we provide a second way: you to pass the token to us, so we can upload the video without knowing the full credentials. In that case, the code is:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>
  <span class="nv">$upload</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">StupeflixYoutubeTokenUpload</span><span class="p">(</span><span class="s1">&#39;MY_YOUTUBE_DEVELOPER_KEY&#39;</span><span class="p">,</span> <span class="s1">&#39;MY_TOKEN&#39;</span><span class="p">);</span>
<span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</div>
</div>
<div class="section" id="facebook-upload">
<h4>Facebook Upload<a class="headerlink" href="#facebook-upload" title="Permalink to this headline">¶</a></h4>
<p>Uploading videos to Facebook is similar to Youtube upload. A different point is that meta information is limited to title and description. And something important to be noted is that every uploaded video is by default visible to everybody, not limited to friends. There is currently no mean to change it through their API, so we can&#8217;t either offer it to our users. So basically, the code is:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>
  <span class="nv">$upload</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">StupeflixFacebookUpload</span><span class="p">(</span><span class="s2">&quot;MY_FACEBOOK_API_KEY&quot;</span><span class="p">,</span> <span class="s2">&quot;MY_APPLICATION_SECRET&quot;</span><span class="p">,</span> <span class="s2">&quot;MY_USER_TOKEN&quot;</span><span class="p">,</span> <span class="nv">$meta</span><span class="p">);</span>
<span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</div>
<p>Your Facebook API Key can be safely shared, so it is OK to give to us. The application secret is different, as you should not give it to unsafe parties (by the way, I am not meaning that we are unsafe ;-) ) This secret is different if your APP is registered as a Web App or a Desktop App on Facebook. (By the way those names are not really well chosen, as you Web App can use as well a &#8220;Desktop App&#8221; style of authentification). So, if your application is a Web App, you have to send us your application secret. But if your application is a Desktop App, you HAVE to create a session secret, and send it to us. Don&#8217;t send your application secret, as it won&#8217;t work. Desktop App authentication is designed to run in untrusted environement, that&#8217;s exactly what we needed. Finally, you send us a user session token you have built using the Facebook API. <strong>Some python example for facebook authentication code can be found</strong> <a class="reference external" href="http://wiki.stupeflix.com/doku.php?id=facebookuploadauthpython">Here</a>.</p>
</div>
<div class="section" id="amazon-s3-upload">
<h4>Amazon S3 Upload<a class="headerlink" href="#amazon-s3-upload" title="Permalink to this headline">¶</a></h4>
<p>A simple way to send videos to your own bucket is to use the following code ( DISCLAIMER: THIS FIRST METHOD IS STRICLY NOT RECOMMENDED BY AMAZON, AS YOUR SECRET KEY SHOULD BE KEPT SECRET AT ALL TIME. ):</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>
  <span class="nv">$upload</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">StupeflixS3Upload</span><span class="p">(</span><span class="s2">&quot;MY_BUCKET_NAME&quot;</span><span class="p">,</span> <span class="s2">&quot;MY_ACCESS_KEY&quot;</span><span class="p">,</span> <span class="s2">&quot;MY_SECRET_KEY&quot;</span><span class="p">,</span> <span class="s2">&quot;MY_PREFIX&quot;</span><span class="p">,</span> <span class="nv">$meta</span><span class="p">);</span>
<span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</div>
<p>Where you fill in your Amazon S3 accesskey and secret key. The video will be stored under the &#8220;MY_PREFIX_PATH&#8221; A SAFE way it to grant write access to your bucket to the Stupeflix Application, using bucket ACLS. Documentation for ACLS can be found [[<a class="reference external" href="http://docs.amazonwebservices.com/AmazonS3/latest/dev/index.html?S3_ACLs">http://docs.amazonwebservices.com/AmazonS3/latest/dev/index.html?S3_ACLs</a>.html|here]]. To do so, got to <a class="reference external" href="https://console.aws.amazon.com/s3/home">https://console.aws.amazon.com/s3/home</a> and set the bucket ACL with write access to Stupeflix editing the properties of the bucket, using our canonical id : ef5245b3f16862462f8e735597a41f668003600ceaea3b4e86a94e5fee1d5f82 . The code is then:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>
  <span class="nv">$upload</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">StupeflixS3Upload</span><span class="p">(</span><span class="s2">&quot;MY_BUCKET_NAME&quot;</span><span class="p">,</span> <span class="k">null</span><span class="p">,</span> <span class="k">null</span><span class="p">,</span> <span class="s2">&quot;MY_PREFIX&quot;</span><span class="p">,</span> <span class="nv">$meta</span><span class="p">);</span>
<span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</div>
<p>A thumbnail will be uploaded alongwith the video.</p>
</div>
<div class="section" id="dailymotion-upload">
<h4>Dailymotion Upload<a class="headerlink" href="#dailymotion-upload" title="Permalink to this headline">¶</a></h4>
<p>To perform an upload on Dailymotion, simply use the login / password of an account:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>
  <span class="nv">$upload</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">StupeflixDailymotionUpload</span><span class="p">(</span><span class="s1">&#39;MY_DAILYMOTION_LOGIN&#39;</span><span class="p">,</span> <span class="s1">&#39;MY_DAILYMOTION_PASSWORD&#39;</span><span class="p">,</span> <span class="nv">$meta</span><span class="p">);</span>
<span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</div>
</div>
<div class="section" id="http-put-upload">
<h4>HTTP PUT Upload<a class="headerlink" href="#http-put-upload" title="Permalink to this headline">¶</a></h4>
<p>The code is simply:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>
  <span class="nv">$upload</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">StupeflixHttpPUTUpload</span><span class="p">(</span><span class="s2">&quot;http://path/to/my/upload/script&quot;</span><span class="p">);</span>
<span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</div>
<p>A PUT call will be done on this url, with the video in the body.</p>
</div>
<div class="section" id="http-post-upload">
<h4>HTTP POST Upload<a class="headerlink" href="#http-post-upload" title="Permalink to this headline">¶</a></h4>
<p>The code is simply:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>
  <span class="nv">$upload</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">StupeflixHttpPOSTUpload</span><span class="p">(</span><span class="s2">&quot;http://path/to/my/upload/script&quot;</span><span class="p">);</span>
<span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</div>
<p>A POST call will be done on this url, with the video in a multipart field whose name is &#8220;file&#8221;.</p>
</div>
</div>
<div class="section" id="send-a-zip-file-to-the-api-instead-of-a-simple-xml-file">
<h3>Send a zip file to the api instead of a simple XML file<a class="headerlink" href="#send-a-zip-file-to-the-api-instead-of-a-simple-xml-file" title="Permalink to this headline">¶</a></h3>
<p>Here is a <a class="reference external" href="https://stupeflix-assets.s3.amazonaws.com/code/samples/ziptest.zip">sample zip file</a>. Each asset kind must be stored in its own sub-directory: <strong>images, audios, videos, fonts</strong> At the root of the zip file you must add a <strong>movie.xml</strong> file conforming to the Stupeflix Video XML Language and describing the video. The assets are named in the movie.xml file without specifying their directory prefix:</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;movie</span> <span class="na">service=</span><span class="s">&quot;craftsman-1.0&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;body&gt;</span>
    <span class="nt">&lt;stack&gt;</span>
      <span class="nt">&lt;audio</span> <span class="na">filename=</span><span class="s">&quot;music.mp3&quot;</span> <span class="na">duration=</span><span class="s">&quot;..&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;sequence&gt;</span>
        <span class="nt">&lt;effect</span> <span class="na">type=</span><span class="s">&quot;diving&quot;</span> <span class="nt">&gt;</span>
          <span class="nt">&lt;image</span> <span class="na">filename=</span><span class="s">&quot;image1.jpg&quot;</span><span class="nt">/&gt;</span>
          <span class="nt">&lt;image</span> <span class="na">filename=</span><span class="s">&quot;image2.png&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/effect&gt;</span>
        <span class="nt">&lt;text</span> <span class="na">type=</span><span class="s">&quot;zone&quot;</span> <span class="na">fontname=</span><span class="s">&quot;myfont&quot;</span><span class="nt">&gt;</span>Coucou<span class="nt">&lt;/text&gt;</span>
        <span class="nt">&lt;effect</span> <span class="na">type=</span><span class="s">&quot;none&quot;</span> <span class="na">duration=</span><span class="s">&quot;5&quot;</span><span class="nt">&gt;</span>
          <span class="nt">&lt;video</span> <span class="na">filename=</span><span class="s">&quot;video.mp4&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/effect&gt;</span>
       <span class="nt">&lt;/sequence&gt;</span>
     <span class="nt">&lt;/stack&gt;</span>
  <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/movie&gt;</span>
</pre></div>
</div>
<p>For example the video.mp4 is actually stored in the video directory. The structure of the zip file is simple:</p>
<div class="highlight-guess"><div class="highlight"><pre><span class="n">movie</span><span class="p">.</span><span class="n">xml</span>
<span class="n">audios</span><span class="o">/</span>
  <span class="n">music</span><span class="p">.</span><span class="n">mp3</span>
<span class="n">fonts</span><span class="o">/</span>
  <span class="n">myfont</span>
<span class="n">images</span>
  <span class="n">image1</span><span class="p">.</span><span class="n">jpg</span>
  <span class="n">image2</span><span class="p">.</span><span class="n">png</span>
<span class="n">videos</span>
  <span class="n">video</span><span class="p">.</span><span class="n">mp4</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="stupeflix-xml-language">
<h2>Stupeflix XML Language<a class="headerlink" href="#stupeflix-xml-language" title="Permalink to this headline">¶</a></h2>
<div class="section" id="introduction">
<h3>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h3>
<p>The Stupeflix Video Description Language is an XML language (called SXML below).</p>
<p>It is intended to be as simple as possible to create videos, yet powerful enough to allow complex projects. It was designed around several <strong>fundamental ideas</strong>:</p>
<ul class="simple">
<li>it is XML, and fully human readable</li>
<li>it is 4D</li>
<li>it is vector-based</li>
</ul>
<div class="section" id="xml-and-fully-human-readable">
<h4>XML, and fully human readable<a class="headerlink" href="#xml-and-fully-human-readable" title="Permalink to this headline">¶</a></h4>
<p>A lot of software claims that they are able to export XML documents. Sometimes it is true and sometimes the XML contains actually chunk of binary data, in hexadecimal form, if you are lucky. That&#8217;s not the most useful form of XML most developers would say.</p>
<p>So even if in the end most of our customers use scripts to generate SXML bits, the XML is always human readable. So, you can understand and debug it easily. You can share snippets of XML to show how to create a nice effect you designed. You can use all the standard tools to create XML or to process it. XSLT stylesheets are for example a good way to build video templates that will transform your data into a SXML file.</p>
<p>The description hierarchy is a good fit with the XML node hierarchy, and I hope you will find it natural to use. I do, but you know, I am not really that objective on this subject.</p>
<p>And, finally, you can even decide to rewrite a video rendering engine using the same XML language of you want. Don&#8217;t forget to contact us if you do so!</p>
<p>More seriously, your projects will have some chance to be used in another place, in another time, outside the Stupeflix platform.</p>
</div>
<div class="section" id="d">
<h4>4D<a class="headerlink" href="#d" title="Permalink to this headline">¶</a></h4>
<p>Everything is 3D in SXML, even 2D elements. And even more, everything is 4D, as everything can be animated.</p>
<p>So, if you decide to animate your scene, your 2D elements will in fact reveal as 3D planes, just as every other ones. In a similar way, if you decide to alter filters parameters throughout a sequence, just add an animator as child element in the XML. Each node in the hierarchy can be animated: think of the SXML as a large scene graph, so if you animate one node, all sub-elements will move in 3D.</p>
</div>
<div class="section" id="vector-based-video-description">
<h4>Vector based video description<a class="headerlink" href="#vector-based-video-description" title="Permalink to this headline">¶</a></h4>
<p>Vector based graphics are well known. That means that you can scale up them without a loss of precision. In the SXML language, the fundamental idea is the same. However, the idea is pushed a little bit further.</p>
<p>The same SXML file can be used to generate different videos, at different resolution. That&#8217;s nice, that&#8217;s exactly the kind of things Vector based graphics are good at. BUT, an issue quickly emerges: what about aspect ratio ? How do you render the video with a 16:9 ratio for a plasma screen, a 4:3 ratio for a web video, or 3:2 ratio for an iPhone ? Do you stitch the video ? It would be ugly.</p>
<p>The answer is that everything in the language should be liquid to adapt to the video aspect ratio, much more a web page than classical vector graphics. When you position your overlays, you specify margins, just like in CSS. When you add images in an effect, their aspect ratio is kept. When you use animators, you can ignore the screen ratio and just say &#8220;slide-in&#8221; or &#8220;slide-out&#8221;.</p>
<p>But maybe the most important concept is about time: you won&#8217;t find any timeline in the SXML. Instead, you can nest video sequence in the language itself, and container duration will be computed from its content. For example, you want to create videos using a fixed template and with some voice over. The voice over duration is different each time. In a standard timeline based video editor, you would have to move around video elements to adapt to the new audio duration. With the SXML, just includes the voice over, its duration will be detected before rendering starts, and propagated throughout the full video description. You can even download the XML with every node annotated with duration information, just by using a special API call, for debugging purpose for example.</p>
<p>You will see throughout the upcoming tutorials other examples of this important concept.</p>
</div>
<div class="section" id="conclusion">
<h4>Conclusion<a class="headerlink" href="#conclusion" title="Permalink to this headline">¶</a></h4>
<p>So, that&#8217;s all for today. Next time, we will talk less about philosophy, and more about action !</p>
</div>
</div>
</div>
<div class="section" id="masking">
<h2>Masking<a class="headerlink" href="#masking" title="Permalink to this headline">¶</a></h2>
<div class="section" id="masking-keying">
<h3>Masking &amp; Keying<a class="headerlink" href="#masking-keying" title="Permalink to this headline">¶</a></h3>
<p>Masking and Keying are very important compositing operators. They are used everywhere, from the weather forecast clip to blockbusters. The basic idea is to let a given color become transparent when you compose an image on top another one. There are two ways to proceed in the SXML language.</p>
<p>Applying a mask transform an existing image and set some color to partly or totally transparent. The mask itself is a bicolor image, one being the opaque one, and the other one is transparent. Any intermediary color will result in a partly transparent color.</p>
<p>So, when you apply a mask on an image, it just modifies the alpha channel of it. It is particularly useful as video do not usally have an alpha channel.</p>
<p>Finally, you can apply it in two ways: on a single image, or on the full screen.</p>
</div>
<div class="section" id="image-filtering">
<h3>Image filtering<a class="headerlink" href="#image-filtering" title="Permalink to this headline">¶</a></h3>
<p>Here are the media we are using. First the video to be displayed: <a class="reference external" href="http://assets.stupeflix.com/code/tutorials/masking/sts120_launch.mov">sts120_launch.mov</a>.</p>
<p>Then the mask <a class="reference external" href="http://assets.stupeflix.com/code/tutorials/masking/wbmask.mp4">wbmask.mp4</a>.</p>
<p>We combine it using a filter with type &#8220;mask&#8221;. White will be opaque, whereas black will be fully transparent:</p>
<div class="ready sxmovie" style="width:640px; height:360px;"><!--
    <overlay duration="10.0" top="0.1">
      <video filename="http://assets.stupeflix.com/code/tutorials/masking/sts120_launch.mov">
        <filter type="mask" opaqueColor="#ffffff" transparentColor="#000000">
          <video filename="http://assets.stupeflix.com/code/tutorials/masking/wbmask.mp4"/>
        </filter>
      </video>
    </overlay>
--></div><p>In fact we used SXML too to build the mask :</p>
<div class="ready sxmovie" style="width:640px; height:360px;"><!--
    <stack duration="10">
      <overlay right="0.15" width="0.45" top="0.15" height="0.45">
         <image color="#ffffff"/>
         <animator type="slide-in" duration="1.0" direction="left"/>
         <animator type="slide-out" duration="1.0" direction="up"/>
         <animator type="grow" growEnd="0.7"/>
      </overlay>
      <overlay left="0.10" width="0.45" top="0.10" height="0.45">
        <image color="#ffffff"/>
        <animator type="slide-in" duration="1.0" direction="down"/>
        <animator type="slide-out" duration="1.0" direction="left"/>
        <animator type="grow" growEnd="0.7"/>
      </overlay>
      <overlay left="0.15" width="0.45" bottom="0.10" height="0.45">
        <image color="#ffffff"/>
        <animator type="slide-in" duration="1.0" direction="up"/>
        <animator type="slide-out" duration="1.0" direction="left"/>
        <animator type="grow" growEnd="0.7"/>
      </overlay>
      <overlay right="0.10" width="0.45" bottom="0.15" height="0.45">
        <image color="#ffffff"/>
        <animator type="slide-in" duration="1.0" direction="left"/>
        <animator type="slide-out" duration="1.0" direction="down"/>
        <animator type="grow" growEnd="0.7"/>
      </overlay>
    </stack>
--></div><p>And finally, if we want to, we can combine the xmls into a single one, as we can nest filters and rendering nodes (stack, sequence, overlay, effect etc).</p>
<div class="ready sxmovie" style="width:640px; height:360px;"><!--
    <overlay duration="10.0" top="0.1">
      <video filename="http://assets.stupeflix.com/code/tutorials/masking/sts120_launch.mov">
        <filter type="mask" opaqueColor="#ffffff" transparentColor="#000000">
          <stack duration="10.0">
            <overlay right="0.15" width="0.45" top="0.15" height="0.45">
              <image color="#ffffff"/>
              <animator type="slide-in" duration="1.0" direction="left"/>
              <animator type="slide-out" duration="1.0" direction="up"/>
              <animator type="grow" growEnd="0.7"/>
            </overlay>
            <overlay left="0.10" width="0.45" top="0.10" height="0.45">
              <image color="#ffffff"/>
              <animator type="slide-in" duration="1.0" direction="down"/>
              <animator type="slide-out" duration="1.0" direction="left"/>
              <animator type="grow" growEnd="0.7"/>
            </overlay>
            <overlay left="0.15" width="0.45" bottom="0.10" height="0.45">
              <image color="#ffffff"/>
              <animator type="slide-in" duration="1.0" direction="up"/>
              <animator type="slide-out" duration="1.0" direction="left"/>
              <animator type="grow" growEnd="0.7"/>
            </overlay>
            <overlay right="0.10" width="0.45" bottom="0.15" height="0.45">
              <image color="#ffffff"/>
              <animator type="slide-in" duration="1.0" direction="left"/>
              <animator type="slide-out" duration="1.0" direction="down"/>
              <animator type="grow" growEnd="0.7"/>
            </overlay>
          </stack>
        </filter>
      </video>
    </overlay>
--></div></div>
<div class="section" id="scene-post-processing">
<h3>Scene Post-Processing<a class="headerlink" href="#scene-post-processing" title="Permalink to this headline">¶</a></h3>
<p>As we just saw, you can apply mask to a single image, in an overlay, text or effect.</p>
<p>But you can apply it too as a postprocessing. In that case it will be full screen, and you apply it every rendering node (text, overlay, effect, stack, sequence).</p>
<p>You can see the result at <a class="reference external" href="http://assets.stupeflix.com/code/tutorials/masking/fullscreen_mask_video.mp4">fullscreen_mask_video.mp4</a>.</p>
<div class="ready sxmovie" style="width:640px; height:360px;"><!--
    <stack duration="10.0">
      <filter type="mask" opaqueColor="#ffffff" transparentColor="#000000">
        <video filename="http://assets.stupeflix.com/code/tutorials/masking/wbmask.mp4"/>
      </filter>
      <effect type="sliding">
        <image filename="http://assets.stupeflix.com/code/homevideo/images/wiki_Double-O-Arch_Arches_National_Park_2.jpg"/>
        <image filename="http://assets.stupeflix.com/code/homevideo/images/wiki_Hopetoun_falls.jpg"/>
        <image filename="http://assets.stupeflix.com/code/homevideo/images/wiki_Lightning_over_Oradea_Romania_3.jpg"/>
        <image filename="http://assets.stupeflix.com/code/homevideo/images/wiki_Hopetoun_falls.jpg"/>
        <image filename="http://assets.stupeflix.com/code/homevideo/images/wiki_Double-O-Arch_Arches_National_Park_2.jpg"/>
      </effect>
    </stack>
--></div><p>As previously, you can insert inline a rendering node instead of the wbmask video, for example a stack containing several overlays.</p>
</div>
</div>
<div class="section" id="audio-voice-over-text-to-speech">
<h2>Audio, Voice Over &amp; Text-To-Speech<a class="headerlink" href="#audio-voice-over-text-to-speech" title="Permalink to this headline">¶</a></h2>
<div class="section" id="audio">
<h3>Audio<a class="headerlink" href="#audio" title="Permalink to this headline">¶</a></h3>
<p>What would be video without audio ? Fortunately, handling multiple audio tracks is built-in the SXML.</p>
<p>So what can you do ?</p>
<ul class="simple">
<li>integrate an arbitrary number of audio tracks in the stack-sequence hierarchy</li>
<li>superpose several audio tracks at the same time</li>
<li>adjust volume</li>
<li>add fade-in / fade-out effects</li>
<li>skip the first n seconds in the audio track</li>
</ul>
<p>In addition, you can also produce audio tracks, using speech synthesis. Finally, by default, every video you add in an effect or an overlay come with its own audio track, which is mixed by default with the other audio tracks.</p>
<div class="section" id="basic-use-and-a-common-mistake">
<h4>Basic use, and a common mistake<a class="headerlink" href="#basic-use-and-a-common-mistake" title="Permalink to this headline">¶</a></h4>
<p>You may want to add an audio track to your video using something similar to:</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;movie</span> <span class="na">service=</span><span class="s">&quot;craftsman-1.0&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;body&gt;</span>
    <span class="nt">&lt;effect</span> <span class="na">type=</span><span class="s">&quot;diving&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;image</span> <span class="na">filename=</span><span class="s">&quot;http://assets.stupeflix.com/code/homevideo/images/wiki_Double-O-Arch_Arches_National_Park_2.jpg&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;image</span> <span class="na">filename=</span><span class="s">&quot;http://assets.stupeflix.com/code/homevideo/images/wiki_Hopetoun_falls.jpg&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;image</span> <span class="na">filename=</span><span class="s">&quot;http://assets.stupeflix.com/code/homevideo/images/wiki_Lightning_over_Oradea_Romania_3.jpg&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/effect&gt;</span>
    <span class="nt">&lt;audio</span> <span class="na">filename=</span><span class="s">&quot;http://assets.stupeflix.com/code/tutorials/audio/soundtracks/Flypaper.mp3&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/movie&gt;</span>
</pre></div>
</div>
<p>But this is not the way it works : just see the result at <a class="reference external" href="http://assets.stupeflix.com/code/tutorials/audio/audio_sequence.mp4">audio_sequence.mp4</a>.</p>
<p>The &#8220;body&#8221; xml node is a sequence, and so the audio will be played after the effect finishes, not at the same time. The effect will use its default duration, 5 seconds.</p>
<p>So the correct way to do so is to add a stack to your xml and place your effect and your audio in it.</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;movie</span> <span class="na">service=</span><span class="s">&quot;craftsman-1.0&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;body&gt;</span>
    <span class="nt">&lt;stack&gt;</span>
      <span class="nt">&lt;effect</span> <span class="na">type=</span><span class="s">&quot;diving&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;image</span> <span class="na">filename=</span><span class="s">&quot;http://assets.stupeflix.com/code/homevideo/images/wiki_Double-O-Arch_Arches_National_Park_2.jpg&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;image</span> <span class="na">filename=</span><span class="s">&quot;http://assets.stupeflix.com/code/homevideo/images/wiki_Hopetoun_falls.jpg&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;/effect&gt;</span>
      <span class="nt">&lt;audio</span> <span class="na">filename=</span><span class="s">&quot;http://assets.stupeflix.com/code/tutorials/audio/soundtracks/Flypaper.mp3&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/stack&gt;</span>
  <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/movie&gt;</span>
</pre></div>
</div>
<p>Just remember this point, and using audio will be really easy.</p>
<p>Here is the result: <a class="reference external" href="http://assets.stupeflix.com/code/tutorials/audio/audio_fullduration.mp4">audio_fullduration.mp4</a>.</p>
<p>As you can see, the total duration of the video is 3:20, the duration of the music.</p>
<p>Is this really what we wanted ? Not really. So, let see how to change this.</p>
</div>
<div class="section" id="multiple-tracks-audio-as-slave">
<h4>Multiple tracks: audio as slave<a class="headerlink" href="#multiple-tracks-audio-as-slave" title="Permalink to this headline">¶</a></h4>
<p>So how can you add several audio at the same time, and how do you force them to adopt the length of the rest of video elements ? Just use the xml structure to do so:</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;movie</span> <span class="na">service=</span><span class="s">&quot;craftsman-1.0&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;body&gt;</span>
    <span class="c">&lt;!-- All music by Josh Woodward, The Simple Life --&gt;</span>
    <span class="nt">&lt;stack&gt;</span>
      <span class="nt">&lt;effect</span> <span class="na">type=</span><span class="s">&quot;diving&quot;</span> <span class="na">duration=</span><span class="s">&quot;10&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;image</span> <span class="na">filename=</span><span class="s">&quot;http://assets.stupeflix.com/code/homevideo/images/wiki_Double-O-Arch_Arches_National_Park_2.jpg&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;image</span> <span class="na">filename=</span><span class="s">&quot;http://assets.stupeflix.com/code/homevideo/images/wiki_Hopetoun_falls.jpg&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;/effect&gt;</span>
      <span class="nt">&lt;audio</span> <span class="na">filename=</span><span class="s">&quot;http://assets.stupeflix.com/code/tutorials/audio/soundtracks/Flypaper.mp3&quot;</span> <span class="na">duration=</span><span class="s">&quot;..&quot;</span> <span class="na">fadein=</span><span class="s">&quot;2&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/stack&gt;</span>
    <span class="nt">&lt;transition</span> <span class="na">type=</span><span class="s">&quot;swirl&quot;</span> <span class="na">duration=</span><span class="s">&quot;2.0&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;stack&gt;</span>
      <span class="nt">&lt;effect</span> <span class="na">type=</span><span class="s">&quot;square&quot;</span> <span class="na">duration=</span><span class="s">&quot;15&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;image</span> <span class="na">filename=</span><span class="s">&quot;http://assets.stupeflix.com/code/homevideo/images/wiki_Hopetoun_falls.jpg&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;image</span> <span class="na">filename=</span><span class="s">&quot;http://assets.stupeflix.com/code/homevideo/images/wiki_Double-O-Arch_Arches_National_Park_2.jpg&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;/effect&gt;</span>
      <span class="nt">&lt;audio</span> <span class="na">filename=</span><span class="s">&quot;http://assets.stupeflix.com/code/tutorials/audio/soundtracks/ImLettingGo.mp3&quot;</span> <span class="na">duration=</span><span class="s">&quot;..&quot;</span> <span class="na">fadeout=</span><span class="s">&quot;2&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/stack&gt;</span>
  <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/movie&gt;</span>
</pre></div>
</div>
<p>You can find the result here : <a class="reference external" href="http://assets.stupeflix.com/code/tutorials/audio/audio_slave.mp4">audio_slave.mp4</a>.</p>
<p>This way, the audio is bound to play with the effect.</p>
<p>Note the <tt class="docutils literal"><span class="pre">duration=&quot;..&quot;</span></tt> directive in the audio tags: it bounds the duration of the audio track to its parent xml node duration. The stack will look for its children to determine its duration, and so it will ignore the audio tag, as this latter rely itself on its parent. So, that&#8217;s the effect node that fix the duration. If you remove this directive, the effect and the stack node duration will be fixed by the audio duration.</p>
<p>You can see some sample use of fadein and fadeout directives.</p>
<p>Note that the transition has an effect on audio too : it creates automatically a crossfade between the two soundtracks.</p>
</div>
<div class="section" id="multiple-tracks-audio-as-master">
<h4>Multiple tracks: audio as master<a class="headerlink" href="#multiple-tracks-audio-as-master" title="Permalink to this headline">¶</a></h4>
<p>So, adding a soundtrack is easy. But what about adding a voiceover when you do not know how long it is because it&#8217;s created using text to speech ? You can play with durations the other way round:</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;movie</span> <span class="na">service=</span><span class="s">&quot;craftsman-1.0&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;body&gt;</span>
    <span class="c">&lt;!-- All music by Josh Woodward, The Simple Life --&gt;</span>
    <span class="nt">&lt;stack&gt;</span>
      <span class="nt">&lt;effect</span> <span class="na">type=</span><span class="s">&quot;diving&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;image</span> <span class="na">filename=</span><span class="s">&quot;http://assets.stupeflix.com/code/homevideo/images/wiki_Double-O-Arch_Arches_National_Park_2.jpg&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;image</span> <span class="na">filename=</span><span class="s">&quot;http://assets.stupeflix.com/code/homevideo/images/wiki_Hopetoun_falls.jpg&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;/effect&gt;</span>
      <span class="nt">&lt;audio</span> <span class="na">filename=</span><span class="s">&quot;http://assets.stupeflix.com/code/tutorials/audio/soundtracks/Flypaper.mp3&quot;</span> <span class="na">duration=</span><span class="s">&quot;..&quot;</span> <span class="na">fadein=</span><span class="s">&quot;2&quot;</span> <span class="na">fadeout=</span><span class="s">&quot;2&quot;</span> <span class="na">volume=</span><span class="s">&quot;0.1&quot;</span> <span class="na">skip=</span><span class="s">&quot;5&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;audio</span> <span class="na">voice=</span><span class="s">&quot;neospeech:julie&quot;</span> <span class="na">margin-end=</span><span class="s">&quot;2.0&quot;</span><span class="nt">&gt;</span>Music by Josh Woodward, Flypaper, from the album The Simple Life. Available on Jamendo dot com. Images from Wikipedia Picture of the Day.<span class="nt">&lt;/audio&gt;</span>
    <span class="nt">&lt;/stack&gt;</span>
  <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/movie&gt;</span>
</pre></div>
</div>
<p>Here is the result: <a class="reference external" href="http://assets.stupeflix.com/code/tutorials/audio/audio_master.mp4">audio_master.mp4</a>.</p>
<p>In that sample, the music duration is set to &#8221;..&#8221; , as previously. But we removed the duration from the effect. So, what is the duration of the stack, effect, and music ? It&#8217;s the duration of the last audio track, the voice over. Duration is obtained from the audio file produced by the speech synthetizer. Note the margin-end added to the voice over, to allow some extra time at the end of the voice over and before the end of the video. You can add the same way a &#8220;margin-start&#8221; directive if you want. Finally, we used the volume directive on the music, to put the emphasis on the voice rather than on the music, and we skipped the first 5 seconds of the music.</p>
</div>
<div class="section" id="audio-sequences">
<h4>Audio sequences<a class="headerlink" href="#audio-sequences" title="Permalink to this headline">¶</a></h4>
<p>You can easily concatenate different audio tracks. Just create as sequence of audio files. Here we use speech synthesis, but it is exactly the same with standard audio files.</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;movie</span> <span class="na">service=</span><span class="s">&quot;craftsman-1.0&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;body&gt;</span>
    <span class="nt">&lt;stack&gt;</span>
      <span class="nt">&lt;effect</span> <span class="na">type=</span><span class="s">&quot;diving&quot;</span> <span class="na">duration=</span><span class="s">&quot;10&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;image</span> <span class="na">filename=</span><span class="s">&quot;http://assets.stupeflix.com/code/homevideo/images/wiki_Double-O-Arch_Arches_National_Park_2.jpg&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;image</span> <span class="na">filename=</span><span class="s">&quot;http://assets.stupeflix.com/code/homevideo/images/wiki_Hopetoun_falls.jpg&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;/effect&gt;</span>
      <span class="nt">&lt;sequence&gt;</span>
         <span class="nt">&lt;audio</span> <span class="na">voice=</span><span class="s">&quot;neospeech:julie&quot;</span><span class="nt">&gt;</span>Hello.<span class="nt">&lt;/audio&gt;</span>
         <span class="nt">&lt;audio</span> <span class="na">voice=</span><span class="s">&quot;neospeech:paul&quot;</span><span class="nt">&gt;</span>Who are you ?<span class="nt">&lt;/audio&gt;</span>
         <span class="nt">&lt;audio</span> <span class="na">voice=</span><span class="s">&quot;neospeech:julie&quot;</span><span class="nt">&gt;</span>I am Julie. Don&#39;t you remember ?<span class="nt">&lt;/audio&gt;</span>
         <span class="nt">&lt;audio</span> <span class="na">voice=</span><span class="s">&quot;neospeech:paul&quot;</span><span class="nt">&gt;</span>No, definitely not.<span class="nt">&lt;/audio&gt;</span>
      <span class="nt">&lt;/sequence&gt;</span>
    <span class="nt">&lt;/stack&gt;</span>
  <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/movie&gt;</span>
</pre></div>
</div>
<p>Here is the result: <a class="reference external" href="http://assets.stupeflix.com/code/tutorials/audio/audio_sequence.mp4">audio_sequence.mp4</a>.</p>
</div>
<div class="section" id="using-video-with-audio">
<h4>Using video with audio<a class="headerlink" href="#using-video-with-audio" title="Permalink to this headline">¶</a></h4>
<p>Remember, when you add a video to an effect or to an overlay, an audio track is automatically created. You can prevent the audio track to be created by specifying audio=&#8221;false&#8221; in the video node.</p>
<p>Let&#8217;s see some examples:</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;movie</span> <span class="na">service=</span><span class="s">&quot;craftsman-1.0&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;body&gt;</span>
    <span class="nt">&lt;effect</span> <span class="na">type=</span><span class="s">&quot;diving&quot;</span> <span class="na">duration=</span><span class="s">&quot;10&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;image</span> <span class="na">filename=</span><span class="s">&quot;http://assets.stupeflix.com/code/homevideo/images/wiki_Double-O-Arch_Arches_National_Park_2.jpg&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;video</span> <span class="na">filename=</span><span class="s">&quot;http://assets.stupeflix.com/code/tutorials/audio/video/sts120_launch.mov&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/effect&gt;</span>
  <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/movie&gt;</span>
</pre></div>
</div>
<p>The result is here : <a class="reference external" href="http://assets.stupeflix.com/code/tutorials/audio/audio_video.mp4">audio_video.mp4</a>.</p>
<p>How does it works ? The diving effect has a specified duration, so it imposes it to its children. The video will play after roughly 5 seconds, for 5 seconds, and so will do the related audio track.</p>
<p>Now, let&#8217;s remove the audio:</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;movie</span> <span class="na">service=</span><span class="s">&quot;craftsman-1.0&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;body&gt;</span>
    <span class="nt">&lt;effect</span> <span class="na">type=</span><span class="s">&quot;diving&quot;</span> <span class="na">duration=</span><span class="s">&quot;10&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;image</span> <span class="na">filename=</span><span class="s">&quot;http://assets.stupeflix.com/code/homevideo/images/wiki_Double-O-Arch_Arches_National_Park_2.jpg&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;video</span> <span class="na">filename=</span><span class="s">&quot;http://assets.stupeflix.com/code/tutorials/audio/video/sts120_launch.mov&quot;</span> <span class="na">audio=</span><span class="s">&quot;false&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/effect&gt;</span>
  <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/movie&gt;</span>
</pre></div>
</div>
<p>See it in action : <a class="reference external" href="http://assets.stupeflix.com/code/tutorials/audio/audio_video_noaudio.mp4">audio_video_noaudio.mp4</a>.</p>
<p>Finally, let&#8217;s add an audio track from a video:</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;movie</span> <span class="na">service=</span><span class="s">&quot;craftsman-1.0&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;body&gt;</span>
    <span class="nt">&lt;stack&gt;</span>
      <span class="nt">&lt;audio</span> <span class="na">filename=</span><span class="s">&quot;http://assets.stupeflix.com/code/tutorials/audio/video/sts120_launch.mov&quot;</span> <span class="na">fadein=</span><span class="s">&quot;2&quot;</span> <span class="na">fadeout=</span><span class="s">&quot;2&quot;</span> <span class="na">duration=</span><span class="s">&quot;..&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;effect</span> <span class="na">type=</span><span class="s">&quot;diving&quot;</span> <span class="na">duration=</span><span class="s">&quot;10&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;image</span> <span class="na">filename=</span><span class="s">&quot;http://assets.stupeflix.com/code/homevideo/images/wiki_Double-O-Arch_Arches_National_Park_2.jpg&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;video</span> <span class="na">filename=</span><span class="s">&quot;http://assets.stupeflix.com/code/tutorials/audio/video/sts120_launch.mov&quot;</span> <span class="na">audio=</span><span class="s">&quot;false&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;/effect&gt;</span>
    <span class="nt">&lt;/stack&gt;</span>
  <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/movie&gt;</span>
</pre></div>
</div>
<p>Remember, we have to add a stack to be able to superpose the audio with the effect. Then, we have to add <tt class="docutils literal"><span class="pre">duration=&quot;..&quot;</span></tt> to the audio, so it is a slave of its &#8220;stack&#8221; parent. And finally, we set <tt class="docutils literal"><span class="pre">audio=&quot;false&quot;</span></tt> on the video.</p>
<p>See it now: <a class="reference external" href="http://assets.stupeflix.com/code/tutorials/audio/audio_video_asaudio.mp4">audio_video_asaudio.mp4</a>.</p>
<p>That was actually a good recapitulation of what we saw earlier today.</p>
<p>You said easy? I heard you!</p>
</div>
</div>
</div>
<div class="section" id="overlay">
<h2>Overlay<a class="headerlink" href="#overlay" title="Permalink to this headline">¶</a></h2>
<p>Overlays are just like text nodes. They can be placed on screen using CSS like parameters :</p>
<ul class="simple">
<li>top, bottom, left, right</li>
<li>width, height</li>
</ul>
<p>The only difference with text nodes is that you can add to them an image or a video: the aspect ratio of the image/video will be kept, so the overlay may not be completely filled by its content.</p>
<p>You can then animate the overlay using the same animators as for text.</p>
<p>Sample XML movie:</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;movie</span> <span class="na">service=</span><span class="s">&quot;craftsman-1.0&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;body&gt;</span>
    <span class="nt">&lt;stack</span> <span class="na">duration=</span><span class="s">&quot;10.0&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;effect</span> <span class="na">type=</span><span class="s">&quot;none&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;image</span> <span class="na">color=</span><span class="s">&quot;#eeeeee&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;/effect&gt;</span>
      <span class="nt">&lt;overlay</span> <span class="na">left=</span><span class="s">&quot;0.1&quot;</span> <span class="na">width=</span><span class="s">&quot;0.3&quot;</span> <span class="na">top=</span><span class="s">&quot;0.1&quot;</span> <span class="na">height=</span><span class="s">&quot;0.3&quot;</span> <span class="na">margin-start=</span><span class="s">&quot;1.0&quot;</span> <span class="na">duration=</span><span class="s">&quot;4.0&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;image</span> <span class="na">color=</span><span class="s">&quot;#ff00ff&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;animator</span> <span class="na">type=</span><span class="s">&quot;slide-in&quot;</span> <span class="na">direction=</span><span class="s">&quot;up&quot;</span> <span class="na">duration=</span><span class="s">&quot;1.0&quot;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;/overlay&gt;</span>
      <span class="nt">&lt;overlay</span> <span class="na">right=</span><span class="s">&quot;0.1&quot;</span> <span class="na">width=</span><span class="s">&quot;0.3&quot;</span> <span class="na">top=</span><span class="s">&quot;0.3&quot;</span> <span class="na">height=</span><span class="s">&quot;0.3&quot;</span> <span class="na">margin-start=</span><span class="s">&quot;3.0&quot;</span> <span class="na">duration=</span><span class="s">&quot;4.0&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;image</span> <span class="na">color=</span><span class="s">&quot;#0000ff&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;animator</span> <span class="na">type=</span><span class="s">&quot;slide-in&quot;</span> <span class="na">direction=</span><span class="s">&quot;down&quot;</span> <span class="na">duration=</span><span class="s">&quot;1.0&quot;</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;animator</span> <span class="na">type=</span><span class="s">&quot;slide-out&quot;</span> <span class="na">direction=</span><span class="s">&quot;right&quot;</span> <span class="na">duration=</span><span class="s">&quot;1.0&quot;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;/overlay&gt;</span>

      <span class="nt">&lt;overlay</span> <span class="na">right=</span><span class="s">&quot;0.35&quot;</span> <span class="na">width=</span><span class="s">&quot;0.3&quot;</span> <span class="na">top=</span><span class="s">&quot;0.35&quot;</span> <span class="na">height=</span><span class="s">&quot;0.3&quot;</span> <span class="na">margin-start=</span><span class="s">&quot;6.0&quot;</span> <span class="na">duration=</span><span class="s">&quot;4.0&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;image</span> <span class="na">color=</span><span class="s">&quot;#888888&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;animator</span> <span class="na">type=</span><span class="s">&quot;slide-in&quot;</span> <span class="na">direction=</span><span class="s">&quot;down&quot;</span> <span class="na">duration=</span><span class="s">&quot;1.0&quot;</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;animator</span> <span class="na">type=</span><span class="s">&quot;slide-out&quot;</span> <span class="na">direction=</span><span class="s">&quot;right&quot;</span> <span class="na">duration=</span><span class="s">&quot;1.0&quot;</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;animator</span> <span class="na">type=</span><span class="s">&quot;grow&quot;</span> <span class="na">growStart=</span><span class="s">&quot;0.0&quot;</span> <span class="na">growEnd=</span><span class="s">&quot;1.0&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;/overlay&gt;</span>

    <span class="nt">&lt;/stack&gt;</span>
  <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/movie&gt;</span>
</pre></div>
</div>
<div class="ready sxmovie" style="width:640px; height:360px;"><!--
      <movie service="craftsman-1.0">
        <body>
          <stack duration="10.0">
            <effect type="none">
              <image color="#eeeeee"/>
            </effect>
            <overlay left="0.1" width="0.3" top="0.1" height="0.3" margin-start="1.0" duration="4.0">
              <image color="#ff00ff"/>
              <animator type="slide-in" direction="up" duration="1.0" />
            </overlay>
            <overlay right="0.1" width="0.3" top="0.3" height="0.3" margin-start="3.0" duration="4.0">
              <image color="#0000ff"/>
              <animator type="slide-in" direction="down" duration="1.0" />
              <animator type="slide-out" direction="right" duration="1.0" />
            </overlay>

            <overlay right="0.35" width="0.3" top="0.35" height="0.3" margin-start="6.0" duration="4.0">
              <image color="#888888"/>
              <animator type="slide-in" direction="down" duration="1.0" />
              <animator type="slide-out" direction="right" duration="1.0" />
              <animator type="grow" growStart="0.0" growEnd="1.0"/>
            </overlay>

          </stack>
        </body>
      </movie>
--></div></div>
<div class="section" id="text-effects">
<h2>Text effects<a class="headerlink" href="#text-effects" title="Permalink to this headline">¶</a></h2>
<p>Warning: this is still a bit experimental. It will be supported in next releases, so you can use it right now for production deployment. Rendering quality will be improved for specific cases, but it is already a large improvement compared to the previous bitmap based method, as text rendering is now vector-based on a frame-by-frame basis. So, you may say, why it is experimental ? Because we will package it in a better way, so you don&#8217;t have to manage the nitty-gritty details we describe here. Be brave, that won&#8217;t be so difficult.</p>
<div class="section" id="reminder-text-rendering">
<h3>Reminder: text rendering<a class="headerlink" href="#reminder-text-rendering" title="Permalink to this headline">¶</a></h3>
<p>Historically, rendering text is done this way:</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;movie</span> <span class="na">service=</span><span class="s">&quot;craftsman-1.0&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;body&gt;</span>
    <span class="nt">&lt;text</span> <span class="na">type=</span><span class="s">&quot;zone&quot;</span> <span class="na">fontcolor=</span><span class="s">&quot;#ffffff&quot;</span><span class="nt">&gt;</span>
      Hello World
    <span class="nt">&lt;/text&gt;</span>
  <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/movie&gt;</span>
</pre></div>
</div>
<p>This is a full screen &#8220;Hello World&#8221;. The principle is simple: the text is turned into an image once for all, and then used as standard image. The drawback is evident: if you zoom on the text it is blurry and aliased.</p>
</div>
<div class="section" id="text-rendering-new-method">
<h3>Text rendering: new method<a class="headerlink" href="#text-rendering-new-method" title="Permalink to this headline">¶</a></h3>
<p>So how can we improve this ? By drawing frame by frame the text but using vector based methods. To activate it, you should change your xml to:</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;movie</span> <span class="na">service=</span><span class="s">&quot;craftsman-1.0&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;body&gt;</span>
    <span class="nt">&lt;text</span> <span class="na">type=</span><span class="s">&quot;zone&quot;</span> <span class="na">vector=</span><span class="s">&quot;true&quot;</span><span class="nt">&gt;</span>
      Hello World
      <span class="nt">&lt;filter</span> <span class="na">type=</span><span class="s">&quot;distancemap&quot;</span> <span class="na">distanceWidth=</span><span class="s">&quot;40.0&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;filter</span> <span class="na">type=</span><span class="s">&quot;distancecolor&quot;</span> <span class="na">distanceWidth=</span><span class="s">&quot;40.0&quot;</span> <span class="na">color=</span><span class="s">&quot;#ffffff&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/text&gt;</span>
  <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/movie&gt;</span>
</pre></div>
</div>
<p>This is a bit verbose, but will be improved in next versions. You can use 40.0 as magic constant, it should be ok in most cases.</p>
<p>The difference should be almost invisible right now. But if you animate the text (zoom, scale ...), the difference will be obvious.</p>
</div>
<div class="section" id="effects">
<h3>Effects<a class="headerlink" href="#effects" title="Permalink to this headline">¶</a></h3>
<p>Quality improvement is an interesting property. But the most important benefit comes from the availability of a lot of new effects. All the effects are configured in the distancecolor filter: you just have to replace it with your own one. Simple white text:</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;filter</span> <span class="na">type=</span><span class="s">&quot;distancecolor&quot;</span> <span class="na">distanceWidth=</span><span class="s">&quot;40.0&quot;</span> <span class="na">color=</span><span class="s">&quot;#ffffff&quot;</span> <span class="nt">/&gt;</span>
</pre></div>
</div>
<div class="section" id="drop-shadow">
<h4>Drop Shadow<a class="headerlink" href="#drop-shadow" title="Permalink to this headline">¶</a></h4>
<p>Arguments are:</p>
<ul class="simple">
<li>dropShadowColor : RGBA (red, green, blue, alpha in hexadecimal)</li>
<li>dropShadowBlurWidth: 0.0 for hard shadow, 1.0 for fully blurred</li>
<li>dropShadowOpacity : multiplification on alpha channel of dropShadowColor</li>
<li>dropShadowPosition : x,y position, in text zone height units (1.0 is so equal to the text zone height)</li>
<li>dropShadowAngle / dropShadowDistance : alternative to dropShadowPosition, but in polar coordinates</li>
</ul>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;filter</span> <span class="na">type=</span><span class="s">&quot;distancecolor&quot;</span> <span class="na">distanceWidth=</span><span class="s">&quot;40.0&quot;</span> <span class="na">color=</span><span class="s">&quot;#0000ff&quot;</span> <span class="na">dropShadowColor=</span><span class="s">&quot;#000000&quot;</span> <span class="na">dropShadowBlurWidth=</span><span class="s">&quot;0.5&quot;</span> <span class="na">dropShadowOpacity=</span><span class="s">&quot;0.8&quot;</span> <span class="na">dropShadowPosition=</span><span class="s">&quot;-0.02,0.02&quot;</span><span class="nt">/&gt;</span>
</pre></div>
</div>
<p>Sample video:</p>
<video controls="" src="https://stupeflix-assets.s3.amazonaws.com/code/tutorials/texteffects/dropshadow.mp4"></video></div>
<div class="section" id="inner-shadow">
<h4>Inner Shadow<a class="headerlink" href="#inner-shadow" title="Permalink to this headline">¶</a></h4>
<p>Arguments are:</p>
<ul class="simple">
<li>innerShadowColor : RGBA (red, green, blue, alpha in hexadecimal)</li>
<li>innerShadowBlurWidth: 0.0 for hard shadow, 1.0 for fully blurred</li>
<li>innerShadowOpacity : multiplification on alpha channel of dropShadowColor</li>
<li>innerShadowPosition : x,y position, in text zone height units (1.0 is so equal to the text zone height)</li>
<li>innerShadowAngle / innerShadowDistance : alternative to innerShadowPosition, but in polar coordinates</li>
</ul>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;filter</span> <span class="na">type=</span><span class="s">&quot;distancecolor&quot;</span> <span class="na">distanceWidth=</span><span class="s">&quot;40.0&quot;</span> <span class="na">color=</span><span class="s">&quot;#cccccc&quot;</span> <span class="na">innerShadowColor=</span><span class="s">&quot;#000000&quot;</span> <span class="na">innerShadowBlurWidth=</span><span class="s">&quot;0.5&quot;</span> <span class="na">innerShadowOpacity=</span><span class="s">&quot;0.8&quot;</span> <span class="na">innerShadowPosition=</span><span class="s">&quot;-0.005,0.005&quot;</span><span class="nt">/&gt;</span>
</pre></div>
</div>
<p>Sample video:</p>
<video controls="" src="https://stupeflix-assets.s3.amazonaws.com/code/tutorials/texteffects/innershadow.mp4"></video></div>
<div class="section" id="stroke-color">
<h4>Stroke Color<a class="headerlink" href="#stroke-color" title="Permalink to this headline">¶</a></h4>
<p>Arguments are:</p>
<ul class="simple">
<li>strokeWidth : 0.0 for no stroke, 1.0 for maximum width</li>
<li>strokeOpacity : 0.0 for totally transparent, 1.0 for fully opaque</li>
<li>strokeColor : color for stroke</li>
</ul>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;filter</span> <span class="na">type=</span><span class="s">&quot;distancecolor&quot;</span> <span class="na">distanceWidth=</span><span class="s">&quot;40.0&quot;</span> <span class="na">color=</span><span class="s">&quot;#cccccc&quot;</span> <span class="na">strokeWidth=</span><span class="s">&quot;0.04&quot;</span> <span class="na">strokeOpacity=</span><span class="s">&quot;1.0&quot;</span> <span class="na">strokeColor=</span><span class="s">&quot;#0000FF&quot;</span> <span class="nt">/&gt;</span>
</pre></div>
</div>
<p>Sample video:</p>
<video controls="" src="https://stupeflix-assets.s3.amazonaws.com/code/tutorials/texteffects/stroke.mp4"></video></div>
<div class="section" id="outer-glow-color">
<h4>Outer Glow Color<a class="headerlink" href="#outer-glow-color" title="Permalink to this headline">¶</a></h4>
<p>Arguments are:</p>
<ul class="simple">
<li>outerGlowBlurWidth : 0.0 for no glow, 1.0 for maximum glow width</li>
<li>outerGlowOpacity : 0.0 for totally transparent, 1.0 for fully opaque</li>
<li>outerGlowColor : color for glow</li>
</ul>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;filter</span> <span class="na">type=</span><span class="s">&quot;distancecolor&quot;</span> <span class="na">distanceWidth=</span><span class="s">&quot;40.0&quot;</span> <span class="na">color=</span><span class="s">&quot;#cccccc&quot;</span> <span class="na">outerGlowBlurWidth=</span><span class="s">&quot;1.0&quot;</span> <span class="na">outerGlowOpacity=</span><span class="s">&quot;0.5&quot;</span> <span class="na">outerGlowColor=</span><span class="s">&quot;#FF0000&quot;</span> <span class="nt">/&gt;</span>
</pre></div>
</div>
<p>Sample video:</p>
<video controls="" src="https://stupeflix-assets.s3.amazonaws.com/code/tutorials/texteffects/outerglow.mp4"></video></div>
<div class="section" id="inner-glow-color">
<h4>Inner Glow Color<a class="headerlink" href="#inner-glow-color" title="Permalink to this headline">¶</a></h4>
<p>Arguments are:</p>
<ul class="simple">
<li>innerGlowBlurWidth : 0.0 for no glow, 1.0 for maximum glow width</li>
<li>innerGlowOpacity : 0.0 for totally transparent, 1.0 for fully opaque</li>
<li>innerGlowColor : color for glow</li>
</ul>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;filter</span> <span class="na">type=</span><span class="s">&quot;distancecolor&quot;</span> <span class="na">distanceWidth=</span><span class="s">&quot;40.0&quot;</span> <span class="na">color=</span><span class="s">&quot;#cccccc&quot;</span> <span class="na">innerGlowBlurWidth=</span><span class="s">&quot;0.03&quot;</span> <span class="na">innerGlowOpacity=</span><span class="s">&quot;0.5&quot;</span>  <span class="na">innerGlowColor=</span><span class="s">&quot;#FF0000&quot;</span> <span class="nt">/&gt;</span>
</pre></div>
</div>
<p>Sample video:</p>
<video controls="" src="https://stupeflix-assets.s3.amazonaws.com/code/tutorials/texteffects/innerglow.mp4"></video></div>
</div>
<div class="section" id="full-example">
<h3>Full Example<a class="headerlink" href="#full-example" title="Permalink to this headline">¶</a></h3>
<p>Now, you can combine those effects to create a composite one.</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;movie</span> <span class="na">service=</span><span class="s">&quot;craftsman-1.0&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;body&gt;</span>
    <span class="nt">&lt;stack</span> <span class="na">duration=</span><span class="s">&quot;20&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;overlay</span> <span class="na">height=</span><span class="s">&quot;1.0&quot;</span> <span class="na">width=</span><span class="s">&quot;1.0&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;image</span> <span class="na">color=</span><span class="s">&quot;#ffffff&quot;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;/overlay&gt;</span>
      <span class="nt">&lt;text</span> <span class="na">type=</span><span class="s">&quot;zone&quot;</span> <span class="na">vector=</span><span class="s">&quot;true&quot;</span><span class="nt">&gt;</span>
        Hello World
        <span class="nt">&lt;filter</span> <span class="na">type=</span><span class="s">&quot;distancemap&quot;</span> <span class="na">distanceWidth=</span><span class="s">&quot;40.0&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;filter</span> <span class="na">type=</span><span class="s">&quot;distancecolor&quot;</span> <span class="na">distanceWidth=</span><span class="s">&quot;40.0&quot;</span> <span class="na">color=</span><span class="s">&quot;#eda35f&quot;</span>
                <span class="na">strokeColor=</span><span class="s">&quot;#000000&quot;</span> <span class="na">strokeOpacity=</span><span class="s">&quot;1.0&quot;</span> <span class="na">strokeWidth=</span><span class="s">&quot;0.02&quot;</span>
                <span class="na">innerShadowColor=</span><span class="s">&quot;#de7316&quot;</span> <span class="na">innerShadowOpacity=</span><span class="s">&quot;1.0&quot;</span> <span class="na">innerShadowPosition=</span><span class="s">&quot;0.01,-0.01&quot;</span>
                <span class="na">dropShadowColor=</span><span class="s">&quot;#00000044&quot;</span> <span class="na">dropShadowOpacity=</span><span class="s">&quot;1.0&quot;</span> <span class="na">dropShadowBlurWidth=</span><span class="s">&quot;0.9&quot;</span> <span class="na">dropShadowPosition=</span><span class="s">&quot;0.05,-0.05&quot;</span>
                <span class="na">outerGlowColor=</span><span class="s">&quot;#ffffff44&quot;</span> <span class="na">outerGlowOpacity=</span><span class="s">&quot;1.0&quot;</span> <span class="na">outerGlowBlurWidth=</span><span class="s">&quot;0.7&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;/filter&gt;</span>
      <span class="nt">&lt;/text&gt;</span>
    <span class="nt">&lt;/stack&gt;</span>
  <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/movie&gt;</span>
</pre></div>
</div>
<p>Sample video:</p>
<video controls="" src="https://stupeflix-assets.s3.amazonaws.com/code/tutorials/texteffects/composite.mp4"></video><p>Another sample, with a scale animation to show good antialiasing properties:</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;movie</span> <span class="na">service=</span><span class="s">&quot;craftsman-1.0&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;body&gt;</span>
    <span class="nt">&lt;stack</span> <span class="na">duration=</span><span class="s">&quot;20&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;overlay</span> <span class="na">height=</span><span class="s">&quot;1.0&quot;</span> <span class="na">width=</span><span class="s">&quot;1.0&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;image</span> <span class="na">color=</span><span class="s">&quot;#ffffff&quot;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;/overlay&gt;</span>
      <span class="nt">&lt;text</span> <span class="na">type=</span><span class="s">&quot;zone&quot;</span> <span class="na">vector=</span><span class="s">&quot;true&quot;</span><span class="nt">&gt;</span>
        Hello World
        <span class="nt">&lt;filter</span> <span class="na">type=</span><span class="s">&quot;distancemap&quot;</span> <span class="na">distanceWidth=</span><span class="s">&quot;40.0&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;filter</span> <span class="na">type=</span><span class="s">&quot;distancecolor&quot;</span> <span class="na">distanceWidth=</span><span class="s">&quot;40.0&quot;</span> <span class="na">color=</span><span class="s">&quot;#eda35f&quot;</span>
                <span class="na">strokeColor=</span><span class="s">&quot;#000000&quot;</span> <span class="na">strokeOpacity=</span><span class="s">&quot;1.0&quot;</span> <span class="na">strokeWidth=</span><span class="s">&quot;0.02&quot;</span>
                <span class="na">innerShadowColor=</span><span class="s">&quot;#de7316&quot;</span> <span class="na">innerShadowOpacity=</span><span class="s">&quot;1.0&quot;</span> <span class="na">innerShadowPosition=</span><span class="s">&quot;0.01,-0.01&quot;</span>
                <span class="na">dropShadowColor=</span><span class="s">&quot;#00000044&quot;</span> <span class="na">dropShadowOpacity=</span><span class="s">&quot;1.0&quot;</span> <span class="na">dropShadowBlurWidth=</span><span class="s">&quot;0.9&quot;</span> <span class="na">dropShadowPosition=</span><span class="s">&quot;0.05,-0.05&quot;</span>
                <span class="na">outerGlowColor=</span><span class="s">&quot;#ffffff44&quot;</span> <span class="na">outerGlowOpacity=</span><span class="s">&quot;1.0&quot;</span> <span class="na">outerGlowBlurWidth=</span><span class="s">&quot;0.7&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;/filter&gt;</span>
        <span class="nt">&lt;animator</span> <span class="na">type=</span><span class="s">&quot;custom&quot;</span> <span class="nt">&gt;</span>
          <span class="nt">&lt;key</span> <span class="na">time=</span><span class="s">&quot;0.0&quot;</span> <span class="na">scale=</span><span class="s">&quot;0.25,0.25,0.25&quot;</span> <span class="na">pos=</span><span class="s">&quot;0,0,0&quot;</span><span class="nt">/&gt;</span>
          <span class="nt">&lt;key</span> <span class="na">time=</span><span class="s">&quot;20.0&quot;</span> <span class="na">scale=</span><span class="s">&quot;3,3,3&quot;</span> <span class="na">pos=</span><span class="s">&quot;0,0.5,0.0&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/animator&gt;</span>
      <span class="nt">&lt;/text&gt;</span>
    <span class="nt">&lt;/stack&gt;</span>
  <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/movie&gt;</span>
</pre></div>
</div>
<p>Sample video:</p>
<video controls="" src="https://stupeflix-assets.s3.amazonaws.com/code/tutorials/texteffects/composite_scale.mp4"></video></div>
<div class="section" id="extra-bonus-animation">
<h3>Extra Bonus: animation<a class="headerlink" href="#extra-bonus-animation" title="Permalink to this headline">¶</a></h3>
<p>The nice thing with all these properties is that everything can be animated. You just have to move the properties to animate into an animator.</p>
<p>Here, we take the last example, but we are starting from no stroke to slight stroke, and we are moving the drop shadow:</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;movie</span> <span class="na">service=</span><span class="s">&quot;craftsman-1.0&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;body&gt;</span>
    <span class="nt">&lt;stack</span> <span class="na">duration=</span><span class="s">&quot;10&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;overlay</span> <span class="na">height=</span><span class="s">&quot;1.0&quot;</span> <span class="na">width=</span><span class="s">&quot;1.0&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;image</span> <span class="na">color=</span><span class="s">&quot;#ffffff&quot;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;/overlay&gt;</span>
      <span class="nt">&lt;text</span> <span class="na">type=</span><span class="s">&quot;zone&quot;</span> <span class="na">vector=</span><span class="s">&quot;true&quot;</span><span class="nt">&gt;</span>
        Hello World
        <span class="nt">&lt;filter</span> <span class="na">type=</span><span class="s">&quot;distancemap&quot;</span> <span class="na">distanceWidth=</span><span class="s">&quot;40.0&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;filter</span> <span class="na">type=</span><span class="s">&quot;distancecolor&quot;</span> <span class="na">distanceWidth=</span><span class="s">&quot;40.0&quot;</span> <span class="na">color=</span><span class="s">&quot;#eda35f&quot;</span>
                <span class="na">strokeColor=</span><span class="s">&quot;#000000&quot;</span> <span class="na">strokeOpacity=</span><span class="s">&quot;1.0&quot;</span>
                <span class="na">innerShadowColor=</span><span class="s">&quot;#de7316&quot;</span> <span class="na">innerShadowOpacity=</span><span class="s">&quot;1.0&quot;</span> <span class="na">innerShadowPosition=</span><span class="s">&quot;0.01,-0.01&quot;</span>
                <span class="na">dropShadowColor=</span><span class="s">&quot;#00000044&quot;</span> <span class="na">dropShadowOpacity=</span><span class="s">&quot;1.0&quot;</span> <span class="na">dropShadowBlurWidth=</span><span class="s">&quot;0.9&quot;</span>
                <span class="na">outerGlowColor=</span><span class="s">&quot;#ffffff44&quot;</span> <span class="na">outerGlowOpacity=</span><span class="s">&quot;1.0&quot;</span> <span class="na">outerGlowBlurWidth=</span><span class="s">&quot;0.7&quot;</span><span class="nt">&gt;</span>
          <span class="nt">&lt;animator</span> <span class="na">type=</span><span class="s">&quot;custom&quot;</span><span class="nt">&gt;</span>
            <span class="nt">&lt;key</span> <span class="na">time=</span><span class="s">&quot;0.0&quot;</span> <span class="na">strokeWidth=</span><span class="s">&quot;0.0&quot;</span> <span class="na">dropShadowPosition=</span><span class="s">&quot;0.05,-0.05&quot;</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;key</span> <span class="na">time=</span><span class="s">&quot;10.0&quot;</span> <span class="na">strokeWidth=</span><span class="s">&quot;0.02&quot;</span> <span class="na">dropShadowPosition=</span><span class="s">&quot;-0.05,-0.05&quot;</span> <span class="nt">/&gt;</span>
          <span class="nt">&lt;/animator&gt;</span>
        <span class="nt">&lt;/filter&gt;</span>
      <span class="nt">&lt;/text&gt;</span>
    <span class="nt">&lt;/stack&gt;</span>
  <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/movie&gt;</span>
</pre></div>
</div>
<p>Sample video:</p>
<video controls="" src="https://stupeflix-assets.s3.amazonaws.com/code/tutorials/texteffects/composite_parameter_animate.mp4"></video><p>The good news is that rendering is just as fast as when nothing is animated. No less, no more. Thanks for your attention, and feel free to send us feedback about your experience on this feature!</p>
</div>
</div>
<div class="section" id="animators">
<h2>Animators<a class="headerlink" href="#animators" title="Permalink to this headline">¶</a></h2>
<p>Animators can be used in two different contexts:</p>
<ul class="simple">
<li>geometric transformations animations: translations, rotations, scale</li>
<li>parameters animations in filters</li>
</ul>
<div class="section" id="geometric-animations">
<h3>Geometric animations<a class="headerlink" href="#geometric-animations" title="Permalink to this headline">¶</a></h3>
<p>Geometric animators can be inserted in any node that is drawn or any container</p>
<ul class="simple">
<li>sequence (or body, which is only the top level sequence)</li>
<li>stack</li>
<li>effect</li>
<li>text</li>
<li>overlay</li>
<li>widget</li>
<li>sphere</li>
<li>camera</li>
</ul>
<p>A arbitrary number of animators can be stacked in the same node. The geometric transformations will be then applied in the given order, except for the camera where the order is reversed.</p>
<p>The OpenGL coordinate system is used:</p>
<img alt="http://assets.stupeflix.com/code/images/cartesian.png" src="http://assets.stupeflix.com/code/images/cartesian.png" />
<p>Coordinates for the full screen are:</p>
<ul class="simple">
<li>x in [-aspectRatio, + aspectRatio]</li>
<li>y in [-1, +1]</li>
<li>z = 0</li>
</ul>
<p>Where aspectRatio is for example 16/9 = 1.7777777... in the following examples.</p>
<p>There are two kinds of animators: builtins, and custom. The first ones are already packaged for you. The latter ones are user defined.</p>
</div>
<div class="section" id="custom-animators">
<h3>Custom animators<a class="headerlink" href="#custom-animators" title="Permalink to this headline">¶</a></h3>
<p>They can be used by specifying the &#8220;custom&#8221; animator type.</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;animator</span> <span class="na">type=</span><span class="s">&quot;custom&quot;</span><span class="nt">&gt;</span>
   <span class="c">&lt;!-- ... --&gt;</span>
<span class="nt">&lt;/animator&gt;</span>
</pre></div>
</div>
<p>You can then add some <strong>key</strong> xml node in it. Each key must contain a time attribute, expressed in seconds, and an arbitrary combination of attributes &#8220;rot&#8221;, &#8220;orient&#8221;, &#8220;pos&#8221;, or &#8220;scale&#8221; (one of each maximum).</p>
</div>
<div class="section" id="translations">
<h3>Translations<a class="headerlink" href="#translations" title="Permalink to this headline">¶</a></h3>
<p>A translation is performed using the &#8220;pos&#8221; key. The parameters are the translation along the X,Y and Z dimensions.</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;overlay&gt;</span>
  <span class="nt">&lt;image</span> <span class="na">filename=</span><span class="s">&quot;http://assets.stupeflix.com/code/images/surf.jpg&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;animator</span> <span class="na">type=</span><span class="s">&quot;custom&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;key</span> <span class="na">pos=</span><span class="s">&quot;-3.55555555,0,0&quot;</span> <span class="na">time=</span><span class="s">&quot;0.0&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;key</span> <span class="na">pos=</span><span class="s">&quot;0,0,0&quot;</span> <span class="na">time=</span><span class="s">&quot;1.0&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;key</span> <span class="na">pos=</span><span class="s">&quot;0,0,0&quot;</span> <span class="na">time=</span><span class="s">&quot;4.0&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;key</span> <span class="na">pos=</span><span class="s">&quot;3.55555555,0,0&quot;</span> <span class="na">time=</span><span class="s">&quot;5.0&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;/animator&gt;</span>
<span class="nt">&lt;/overlay&gt;</span>
</pre></div>
</div>
<div class="ready sxmovie" style="width:640px; height:360px;"><!--
    <overlay>
      <image filename="http://assets.stupeflix.com/code/images/surf.jpg"/>
      <animator type="custom">
        <key pos="-3.55555555,0,0" time="0.0"/>
        <key pos="0,0,0" time="1.0"/>
        <key pos="0,0,0" time="4.0"/>
        <key pos="3.55555555,0,0" time="5.0"/>
      </animator>
    </overlay>
    -->
</div></div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Tutorials</a><ul>
<li><a class="reference internal" href="#stupeflix-api">Stupeflix API</a><ul>
<li><a class="reference internal" href="#automatically-send-videos">Automatically send videos</a><ul>
<li><a class="reference internal" href="#generic-code">Generic code</a></li>
<li><a class="reference internal" href="#stupeflix-default-upload">Stupeflix Default Upload</a></li>
<li><a class="reference internal" href="#youtube-upload">Youtube Upload</a></li>
<li><a class="reference internal" href="#facebook-upload">Facebook Upload</a></li>
<li><a class="reference internal" href="#amazon-s3-upload">Amazon S3 Upload</a></li>
<li><a class="reference internal" href="#dailymotion-upload">Dailymotion Upload</a></li>
<li><a class="reference internal" href="#http-put-upload">HTTP PUT Upload</a></li>
<li><a class="reference internal" href="#http-post-upload">HTTP POST Upload</a></li>
</ul>
</li>
<li><a class="reference internal" href="#send-a-zip-file-to-the-api-instead-of-a-simple-xml-file">Send a zip file to the api instead of a simple XML file</a></li>
</ul>
</li>
<li><a class="reference internal" href="#stupeflix-xml-language">Stupeflix XML Language</a><ul>
<li><a class="reference internal" href="#introduction">Introduction</a><ul>
<li><a class="reference internal" href="#xml-and-fully-human-readable">XML, and fully human readable</a></li>
<li><a class="reference internal" href="#d">4D</a></li>
<li><a class="reference internal" href="#vector-based-video-description">Vector based video description</a></li>
<li><a class="reference internal" href="#conclusion">Conclusion</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#masking">Masking</a><ul>
<li><a class="reference internal" href="#masking-keying">Masking &amp; Keying</a></li>
<li><a class="reference internal" href="#image-filtering">Image filtering</a></li>
<li><a class="reference internal" href="#scene-post-processing">Scene Post-Processing</a></li>
</ul>
</li>
<li><a class="reference internal" href="#audio-voice-over-text-to-speech">Audio, Voice Over &amp; Text-To-Speech</a><ul>
<li><a class="reference internal" href="#audio">Audio</a><ul>
<li><a class="reference internal" href="#basic-use-and-a-common-mistake">Basic use, and a common mistake</a></li>
<li><a class="reference internal" href="#multiple-tracks-audio-as-slave">Multiple tracks: audio as slave</a></li>
<li><a class="reference internal" href="#multiple-tracks-audio-as-master">Multiple tracks: audio as master</a></li>
<li><a class="reference internal" href="#audio-sequences">Audio sequences</a></li>
<li><a class="reference internal" href="#using-video-with-audio">Using video with audio</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#overlay">Overlay</a></li>
<li><a class="reference internal" href="#text-effects">Text effects</a><ul>
<li><a class="reference internal" href="#reminder-text-rendering">Reminder: text rendering</a></li>
<li><a class="reference internal" href="#text-rendering-new-method">Text rendering: new method</a></li>
<li><a class="reference internal" href="#effects">Effects</a><ul>
<li><a class="reference internal" href="#drop-shadow">Drop Shadow</a></li>
<li><a class="reference internal" href="#inner-shadow">Inner Shadow</a></li>
<li><a class="reference internal" href="#stroke-color">Stroke Color</a></li>
<li><a class="reference internal" href="#outer-glow-color">Outer Glow Color</a></li>
<li><a class="reference internal" href="#inner-glow-color">Inner Glow Color</a></li>
</ul>
</li>
<li><a class="reference internal" href="#full-example">Full Example</a></li>
<li><a class="reference internal" href="#extra-bonus-animation">Extra Bonus: animation</a></li>
</ul>
</li>
<li><a class="reference internal" href="#animators">Animators</a><ul>
<li><a class="reference internal" href="#geometric-animations">Geometric animations</a></li>
<li><a class="reference internal" href="#custom-animators">Custom animators</a></li>
<li><a class="reference internal" href="#translations">Translations</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/tutorials.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li><a href="index.html">Stupeflix API 1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>

    <div class="footer">
        &copy; Copyright 2012, Thomas.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
    <script type="text/javascript" charset="utf-8" src="http://static.stupeflix.com/play/1.2/play-min.js"></script>

  </body>
</html>